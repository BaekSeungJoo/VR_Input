<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VR_Test: OVRCustomFaceExtensions Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VR_Test<span id="projectnumber">&#160;0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="class_o_v_r_custom_face_extensions-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">OVRCustomFaceExtensions Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad7962d2b416878472b1e6d7b0a838ce5" id="r_ad7962d2b416878472b1e6d7b0a838ce5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">OVRFaceExpressions.FaceExpression</a>[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_v_r_custom_face_extensions.html#ad7962d2b416878472b1e6d7b0a838ce5">AutoGenerateMapping</a> (Mesh skinnedMesh, string[] blendShapeNames, <a class="el" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">OVRFaceExpressions.FaceExpression</a>[] faceExpressions, bool allowDuplicateMapping)</td></tr>
<tr class="memdesc:ad7962d2b416878472b1e6d7b0a838ce5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the best matching blend shape for each facial expression based on their names.  <br /></td></tr>
<tr class="separator:ad7962d2b416878472b1e6d7b0a838ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a5eaae96690432449aff0433f4438fa" id="r_a7a5eaae96690432449aff0433f4438fa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_v_r_custom_face_extensions.html#a7a5eaae96690432449aff0433f4438fa">AutoMapBlendshapes</a> (this <a class="el" href="class_o_v_r_custom_face.html">OVRCustomFace</a> customFace)</td></tr>
<tr class="separator:a7a5eaae96690432449aff0433f4438fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c01e28adc9b6c74fbad8564a9d3eee7" id="r_a1c01e28adc9b6c74fbad8564a9d3eee7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_v_r_custom_face_extensions.html#a1c01e28adc9b6c74fbad8564a9d3eee7">ClearBlendshapes</a> (this <a class="el" href="class_o_v_r_custom_face.html">OVRCustomFace</a> customFace)</td></tr>
<tr class="separator:a1c01e28adc9b6c74fbad8564a9d3eee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a082ba89bd58735a98f89341ec39b22c4" id="r_a082ba89bd58735a98f89341ec39b22c4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">OVRFaceExpressions.FaceExpression</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_v_r_custom_face_extensions.html#a082ba89bd58735a98f89341ec39b22c4">FindBestMatch</a> (HashSet&lt; string &gt;[] tokenizedOptions, string searchString, <a class="el" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">OVRFaceExpressions.FaceExpression</a>[] expressions, <a class="el" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">OVRFaceExpressions.FaceExpression</a> fallback)</td></tr>
<tr class="separator:a082ba89bd58735a98f89341ec39b22c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d3bf4d5968518d24054939b92ea43d1" id="r_a1d3bf4d5968518d24054939b92ea43d1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_v_r_custom_face_extensions.html#a1d3bf4d5968518d24054939b92ea43d1">IsLipsToward</a> (string blendshapeName)</td></tr>
<tr class="separator:a1d3bf4d5968518d24054939b92ea43d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c80797a013b473ec5c4dd8bdaf68df" id="r_a00c80797a013b473ec5c4dd8bdaf68df"><td class="memItemLeft" align="right" valign="top"><a id="a00c80797a013b473ec5c4dd8bdaf68df" name="a00c80797a013b473ec5c4dd8bdaf68df"></a>
static string&#160;</td><td class="memItemRight" valign="bottom"><b>SplitCamelCase</b> (string input)</td></tr>
<tr class="separator:a00c80797a013b473ec5c4dd8bdaf68df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="_o_v_r_custom_face_extensions_8cs_source.html#l00028">28</a> of file <a class="el" href="_o_v_r_custom_face_extensions_8cs_source.html">OVRCustomFaceExtensions.cs</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ad7962d2b416878472b1e6d7b0a838ce5" name="ad7962d2b416878472b1e6d7b0a838ce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7962d2b416878472b1e6d7b0a838ce5">&#9670;&#160;</a></span>AutoGenerateMapping()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">OVRFaceExpressions.FaceExpression</a>[] OVRCustomFaceExtensions.AutoGenerateMapping </td>
          <td>(</td>
          <td class="paramtype">Mesh&#160;</td>
          <td class="paramname"><em>skinnedMesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string[]&#160;</td>
          <td class="paramname"><em>blendShapeNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">OVRFaceExpressions::FaceExpression</a>[]&#160;</td>
          <td class="paramname"><em>faceExpressions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allowDuplicateMapping</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the best matching blend shape for each facial expression based on their names. </p>
<p>Auto generation idea is to tokenize expression enum strings and blend shape name strings and find matching tokens We quantify the quality of the match by the total number of characters in the matching tokens We require at least a total of more than 2 characters to match, to avoid matching just L/R LB/RB etc. A better technique might be to use Levenshtein distance to match the tokens to allow some typos while still being loose on order of tokens </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">skinnedMesh</td><td>The mesh to find a mapping for.</td></tr>
    <tr><td class="paramname">blendShapeNames</td><td>Array of blend shape names</td></tr>
    <tr><td class="paramname">faceExpressions</td><td>Array of FaceExpression id for mapping to them</td></tr>
    <tr><td class="paramname">allowDuplicateMapping</td><td>Whether to allow duplicate mapping or not</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns an array of <a class="el" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569" title="List of face expressions.">OVRFaceExpressions.FaceExpression</a> of the same length as the number of blendshapes on the <em>skinnedMesh</em>  with each element identifying the closest found match</dd></dl>

<p class="definition">Definition at line <a class="el" href="_o_v_r_custom_face_extensions_8cs_source.html#l00044">44</a> of file <a class="el" href="_o_v_r_custom_face_extensions_8cs_source.html">OVRCustomFaceExtensions.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   49</span>    {</div>
<div class="line"><span class="lineno">   50</span>        Assert.AreEqual(blendShapeNames.Length, faceExpressions.Length);</div>
<div class="line"><span class="lineno">   51</span>        var result = <span class="keyword">new</span> <a class="code hl_class" href="class_o_v_r_face_expressions.html">OVRFaceExpressions</a>.<a class="code hl_enumeration" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">FaceExpression</a>[skinnedMesh.blendShapeCount];</div>
<div class="line"><span class="lineno">   52</span>        var expressionTokens = <span class="keyword">new</span> HashSet&lt;string&gt;[blendShapeNames.Length];</div>
<div class="line"><span class="lineno">   53</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; blendShapeNames.Length; ++i)</div>
<div class="line"><span class="lineno">   54</span>        {</div>
<div class="line"><span class="lineno">   55</span>            expressionTokens[i] = TokenizeString(blendShapeNames[i]);</div>
<div class="line"><span class="lineno">   56</span>        }</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>        var usedBlendshapes = <span class="keyword">new</span> HashSet&lt;<a class="code hl_class" href="class_o_v_r_face_expressions.html">OVRFaceExpressions</a>.<a class="code hl_enumeration" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">FaceExpression</a>&gt;();</div>
<div class="line"><span class="lineno">   59</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; skinnedMesh.blendShapeCount; ++i)</div>
<div class="line"><span class="lineno">   60</span>        {</div>
<div class="line"><span class="lineno">   61</span>            var blendShapeName = skinnedMesh.GetBlendShapeName(i);</div>
<div class="line"><span class="lineno">   62</span>            var bestMatchFound = FindBestMatch(</div>
<div class="line"><span class="lineno">   63</span>                expressionTokens,</div>
<div class="line"><span class="lineno">   64</span>                blendShapeName,</div>
<div class="line"><span class="lineno">   65</span>                faceExpressions,</div>
<div class="line"><span class="lineno">   66</span>                <a class="code hl_class" href="class_o_v_r_face_expressions.html">OVRFaceExpressions</a>.<a class="code hl_enumeration" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">FaceExpression</a>.Invalid);</div>
<div class="line"><span class="lineno">   67</span>            <span class="comment">// If not allowing duplicates, make an exception for liptowards.</span></div>
<div class="line"><span class="lineno">   68</span>            <span class="keywordflow">if</span> (!allowDuplicateMapping &amp;&amp;</div>
<div class="line"><span class="lineno">   69</span>                (usedBlendshapes.Contains(bestMatchFound) &amp;&amp;</div>
<div class="line"><span class="lineno">   70</span>                 !IsLipsToward(blendShapeName)))</div>
<div class="line"><span class="lineno">   71</span>            {</div>
<div class="line"><span class="lineno">   72</span>                result[i] = <a class="code hl_class" href="class_o_v_r_face_expressions.html">OVRFaceExpressions</a>.<a class="code hl_enumeration" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">FaceExpression</a>.Invalid;</div>
<div class="line"><span class="lineno">   73</span>            }</div>
<div class="line"><span class="lineno">   74</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   75</span>            {</div>
<div class="line"><span class="lineno">   76</span>                result[i] = bestMatchFound;</div>
<div class="line"><span class="lineno">   77</span>                usedBlendshapes.Add(bestMatchFound);</div>
<div class="line"><span class="lineno">   78</span>            }</div>
<div class="line"><span class="lineno">   79</span>        }</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">   82</span>    }</div>
<div class="ttc" id="aclass_o_v_r_face_expressions_html"><div class="ttname"><a href="class_o_v_r_face_expressions.html">OVRFaceExpressions</a></div><div class="ttdoc">This class manages the face expressions data.</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_face_expressions_8cs_source.html#l00032">OVRFaceExpressions.cs:33</a></div></div>
<div class="ttc" id="aclass_o_v_r_face_expressions_html_a464fa1523796d3d9ef583c3947815569"><div class="ttname"><a href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">OVRFaceExpressions.FaceExpression</a></div><div class="ttdeci">FaceExpression</div><div class="ttdoc">List of face expressions.</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_face_expressions_8cs_source.html#l00314">OVRFaceExpressions.cs:315</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a5eaae96690432449aff0433f4438fa" name="a7a5eaae96690432449aff0433f4438fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a5eaae96690432449aff0433f4438fa">&#9670;&#160;</a></span>AutoMapBlendshapes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OVRCustomFaceExtensions.AutoMapBlendshapes </td>
          <td>(</td>
          <td class="paramtype">this <a class="el" href="class_o_v_r_custom_face.html">OVRCustomFace</a>&#160;</td>
          <td class="paramname"><em>customFace</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_o_v_r_custom_face_extensions_8cs_source.html#l00160">160</a> of file <a class="el" href="_o_v_r_custom_face_extensions_8cs_source.html">OVRCustomFaceExtensions.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  161</span>    {</div>
<div class="line"><span class="lineno">  162</span>        var type = customFace.retargetingType;</div>
<div class="line"><span class="lineno">  163</span>        var renderer = customFace.GetComponent&lt;SkinnedMeshRenderer&gt;();</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  166</span>        {</div>
<div class="line"><span class="lineno">  167</span>            <a class="code hl_class" href="class_o_v_r_face_expressions.html">OVRFaceExpressions</a>.<a class="code hl_enumeration" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">FaceExpression</a>[] generatedMapping;</div>
<div class="line"><span class="lineno">  168</span>            <span class="keywordflow">switch</span> (type)</div>
<div class="line"><span class="lineno">  169</span>            {</div>
<div class="line"><span class="lineno">  170</span>                <span class="keywordflow">case</span> <a class="code hl_class" href="class_o_v_r_custom_face.html">OVRCustomFace</a>.RetargetingType.OculusFace:</div>
<div class="line"><span class="lineno">  171</span>                    generatedMapping = OculusFaceAutoGenerateMapping(renderer.sharedMesh,</div>
<div class="line"><span class="lineno">  172</span>                        customFace._allowDuplicateMapping);</div>
<div class="line"><span class="lineno">  173</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  174</span>                <span class="keywordflow">case</span> <a class="code hl_class" href="class_o_v_r_custom_face.html">OVRCustomFace</a>.RetargetingType.Custom:</div>
<div class="line"><span class="lineno">  175</span>                    generatedMapping = CustomAutoGeneratedMapping(customFace,</div>
<div class="line"><span class="lineno">  176</span>                        renderer.sharedMesh,</div>
<div class="line"><span class="lineno">  177</span>                        customFace._allowDuplicateMapping);</div>
<div class="line"><span class="lineno">  178</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  179</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  180</span>                    <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidEnumArgumentException($<span class="stringliteral">&quot;Invalid {nameof(OVRCustomFace.RetargetingType)}&quot;</span>);</div>
<div class="line"><span class="lineno">  181</span>            }</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>            <span class="keywordflow">if</span> (generatedMapping != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  184</span>            {</div>
<div class="line"><span class="lineno">  185</span>                Assert.AreEqual(generatedMapping.Length, renderer.sharedMesh.blendShapeCount);</div>
<div class="line"><span class="lineno">  186</span>                <span class="keywordflow">if</span> (customFace._mappings == <span class="keyword">null</span> || customFace._mappings.Length != renderer.sharedMesh.blendShapeCount)</div>
<div class="line"><span class="lineno">  187</span>                {</div>
<div class="line"><span class="lineno">  188</span>                    customFace._mappings =</div>
<div class="line"><span class="lineno">  189</span>                        <span class="keyword">new</span> <a class="code hl_class" href="class_o_v_r_face_expressions.html">OVRFaceExpressions</a>.<a class="code hl_enumeration" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">FaceExpression</a>[renderer.sharedMesh.blendShapeCount];</div>
<div class="line"><span class="lineno">  190</span>                }</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; renderer.sharedMesh.blendShapeCount; ++i)</div>
<div class="line"><span class="lineno">  193</span>                {</div>
<div class="line"><span class="lineno">  194</span>                    customFace._mappings[i] = generatedMapping[i];</div>
<div class="line"><span class="lineno">  195</span>                }</div>
<div class="line"><span class="lineno">  196</span>            }</div>
<div class="line"><span class="lineno">  197</span>        }</div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">catch</span> (Exception e)</div>
<div class="line"><span class="lineno">  199</span>        {</div>
<div class="line"><span class="lineno">  200</span>            Debug.LogError($<span class="stringliteral">&quot;Auto Map Face Error: {e.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  201</span>        }</div>
<div class="line"><span class="lineno">  202</span>    }</div>
<div class="ttc" id="aclass_o_v_r_custom_face_html"><div class="ttname"><a href="class_o_v_r_custom_face.html">OVRCustomFace</a></div><div class="ttdoc">OVR Component to drive blend shapes on a SkinnedMeshRenderer based on Face Tracking provided by OVRFa...</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_custom_face_8cs_source.html#l00037">OVRCustomFace.cs:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c01e28adc9b6c74fbad8564a9d3eee7" name="a1c01e28adc9b6c74fbad8564a9d3eee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c01e28adc9b6c74fbad8564a9d3eee7">&#9670;&#160;</a></span>ClearBlendshapes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OVRCustomFaceExtensions.ClearBlendshapes </td>
          <td>(</td>
          <td class="paramtype">this <a class="el" href="class_o_v_r_custom_face.html">OVRCustomFace</a>&#160;</td>
          <td class="paramname"><em>customFace</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_o_v_r_custom_face_extensions_8cs_source.html#l00204">204</a> of file <a class="el" href="_o_v_r_custom_face_extensions_8cs_source.html">OVRCustomFaceExtensions.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  205</span>    {</div>
<div class="line"><span class="lineno">  206</span>        var renderer = customFace.GetComponent&lt;SkinnedMeshRenderer&gt;();</div>
<div class="line"><span class="lineno">  207</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; renderer.sharedMesh.blendShapeCount; ++i)</div>
<div class="line"><span class="lineno">  208</span>        {</div>
<div class="line"><span class="lineno">  209</span>            customFace._mappings[i] = <a class="code hl_class" href="class_o_v_r_face_expressions.html">OVRFaceExpressions</a>.<a class="code hl_enumeration" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">FaceExpression</a>.Invalid;</div>
<div class="line"><span class="lineno">  210</span>        }</div>
<div class="line"><span class="lineno">  211</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a082ba89bd58735a98f89341ec39b22c4" name="a082ba89bd58735a98f89341ec39b22c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a082ba89bd58735a98f89341ec39b22c4">&#9670;&#160;</a></span>FindBestMatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">OVRFaceExpressions.FaceExpression</a> OVRCustomFaceExtensions.FindBestMatch </td>
          <td>(</td>
          <td class="paramtype">HashSet&lt; string &gt;[]&#160;</td>
          <td class="paramname"><em>tokenizedOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>searchString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">OVRFaceExpressions::FaceExpression</a>[]&#160;</td>
          <td class="paramname"><em>expressions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">OVRFaceExpressions::FaceExpression</a>&#160;</td>
          <td class="paramname"><em>fallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_o_v_r_custom_face_extensions_8cs_source.html#l00084">84</a> of file <a class="el" href="_o_v_r_custom_face_extensions_8cs_source.html">OVRCustomFaceExtensions.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   87</span>    {</div>
<div class="line"><span class="lineno">   88</span>        searchString = searchString.Substring(searchString.LastIndexOf(<span class="charliteral">&#39;.&#39;</span>) + 1); <span class="comment">//remove model name prefix if present</span></div>
<div class="line"><span class="lineno">   89</span>        HashSet&lt;string&gt; blendShapeTokens = TokenizeString(searchString);</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>        <a class="code hl_enumeration" href="class_o_v_r_face_expressions.html#a464fa1523796d3d9ef583c3947815569">OVRFaceExpressions.FaceExpression</a> bestMatch = fallback;</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>        <span class="comment">// require more than two characters to match in an expression, to avoid just matching L/ LB/ R/RB</span></div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordtype">int</span> bestMatchCount = 2;</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; tokenizedOptions.Length; ++j)</div>
<div class="line"><span class="lineno">   97</span>        {</div>
<div class="line"><span class="lineno">   98</span>            <span class="keywordtype">int</span> thisMatchCount = 0;</div>
<div class="line"><span class="lineno">   99</span>            HashSet&lt;string&gt; thisSet = tokenizedOptions[j];</div>
<div class="line"><span class="lineno">  100</span>            <span class="comment">// Currently we only allow exact matches, using Levenshtein distance for fuzzy matches</span></div>
<div class="line"><span class="lineno">  101</span>            <span class="comment">// would allow for handling of common typos and other slight mismatches</span></div>
<div class="line"><span class="lineno">  102</span>            <span class="keywordflow">foreach</span> (<span class="keywordtype">string</span> matchingToken <span class="keywordflow">in</span> blendShapeTokens.Intersect(thisSet))</div>
<div class="line"><span class="lineno">  103</span>            {</div>
<div class="line"><span class="lineno">  104</span>                thisMatchCount += matchingToken.Length;</div>
<div class="line"><span class="lineno">  105</span>            }</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>            <span class="keywordflow">if</span> (thisMatchCount &gt; bestMatchCount)</div>
<div class="line"><span class="lineno">  108</span>            {</div>
<div class="line"><span class="lineno">  109</span>                bestMatchCount = thisMatchCount;</div>
<div class="line"><span class="lineno">  110</span>                bestMatch = expressions[j];</div>
<div class="line"><span class="lineno">  111</span>            }</div>
<div class="line"><span class="lineno">  112</span>        }</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordflow">return</span> bestMatch;</div>
<div class="line"><span class="lineno">  115</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d3bf4d5968518d24054939b92ea43d1" name="a1d3bf4d5968518d24054939b92ea43d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d3bf4d5968518d24054939b92ea43d1">&#9670;&#160;</a></span>IsLipsToward()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool OVRCustomFaceExtensions.IsLipsToward </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>blendshapeName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_o_v_r_custom_face_extensions_8cs_source.html#l00117">117</a> of file <a class="el" href="_o_v_r_custom_face_extensions_8cs_source.html">OVRCustomFaceExtensions.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  118</span>    {</div>
<div class="line"><span class="lineno">  119</span>        blendshapeName = blendshapeName.Substring(blendshapeName.IndexOf(<span class="charliteral">&#39;.&#39;</span>) + 1);</div>
<div class="line"><span class="lineno">  120</span>        <span class="keywordflow">return</span> blendshapeName == <span class="stringliteral">&quot;lipsToward_LB&quot;</span> ||</div>
<div class="line"><span class="lineno">  121</span>               blendshapeName == <span class="stringliteral">&quot;lipsToward_RB&quot;</span> ||</div>
<div class="line"><span class="lineno">  122</span>               blendshapeName == <span class="stringliteral">&quot;lipsToward_LT&quot;</span> ||</div>
<div class="line"><span class="lineno">  123</span>               blendshapeName == <span class="stringliteral">&quot;lipsToward_RT&quot;</span>;</div>
<div class="line"><span class="lineno">  124</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Assets/Oculus/VR/Scripts/Util/<a class="el" href="_o_v_r_custom_face_extensions_8cs_source.html">OVRCustomFaceExtensions.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>

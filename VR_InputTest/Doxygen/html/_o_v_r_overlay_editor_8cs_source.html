<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VR_Test: Assets/Oculus/VR/Scripts/Editor/OVROverlayEditor.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VR_Test<span id="projectnumber">&#160;0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_84bbf7b3c7f28a5a18725745e1505219.html">Assets</a></li><li class="navelem"><a class="el" href="dir_fc956d7ddb9fa7f2903095c71130e804.html">Oculus</a></li><li class="navelem"><a class="el" href="dir_aebb527d5a79fdf80c9503c9a27c70dc.html">VR</a></li><li class="navelem"><a class="el" href="dir_f9ab00822be70d5eebbf7c669b29e586.html">Scripts</a></li><li class="navelem"><a class="el" href="dir_f9697baa6209423c11b59e0ac4f98606.html">Editor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">OVROverlayEditor.cs</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * Copyright (c) Meta Platforms, Inc. and affiliates.</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> * All rights reserved.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> *</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> * Licensed under the Oculus SDK License Agreement (the &quot;License&quot;);</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> * you may not use the Oculus SDK except in compliance with the License,</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"> * which is provided at the time of installation or download, or which</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"> * otherwise accompanies this software in either electronic or hard copy form.</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment"> *</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment"> * You may obtain a copy of the License at</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"> *</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"> * https://developer.oculus.com/licenses/oculussdk/</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"> *</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> * Unless required by applicable law or agreed to in writing, the Oculus SDK</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment"> * See the License for the specific language governing permissions and</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment"> * limitations under the License.</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment"> */</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="keyword">using </span>System;</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="keyword">using </span>System.Collections.Generic;</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="keyword">using </span><a class="code hl_namespace" href="namespace_unity_engine.html">UnityEngine</a>;</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="keyword">using </span>UnityEditor;</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#if USING_XR_SDK_OCULUS</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="keyword">using </span>Unity.XR.Oculus;</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>[CustomEditor(typeof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>))]</div>
<div class="foldopen" id="foldopen00030" data-start="{" data-end="};">
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno"><a class="line" href="class_o_v_r_overlay_editor.html">   30</a></span><span class="keyword">public</span> <span class="keyword">class </span><a class="code hl_class" href="class_o_v_r_overlay_editor.html">OVROverlayEditor</a> : Editor</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>{</div>
<div class="foldopen" id="foldopen00035" data-start="{" data-end="};">
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">   35</a></span>    <span class="keyword">public</span> <span class="keyword">enum</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>    {</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>        Custom = 0,</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>        Mono = 1,</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>        Stereo = 2,</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>        StereoLeftRight = 3,</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>        StereoTopBottom = 4,</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    }</div>
</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span> </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <span class="keyword">public</span> <span class="keyword">enum</span> DisplayType</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    {</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>        Custom = 0,</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>        Full = 1,</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>        Half = 2,</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    }</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span> </div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <span class="keyword">private</span> OVRPlugin.LayerSuperSamplingType superSampleType = <a class="code hl_class" href="class_o_v_r_plugin.html">OVRPlugin</a>.LayerSuperSamplingType.None;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <span class="keyword">private</span> OVRPlugin.LayerSharpenType sharpenType = <a class="code hl_class" href="class_o_v_r_plugin.html">OVRPlugin</a>.LayerSharpenType.None;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <span class="keyword">private</span> <span class="keywordtype">bool</span> sourceRectsVisible = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <span class="keyword">private</span> <span class="keywordtype">bool</span> destRectsVisible = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <span class="keyword">private</span> Material _SrcRectMaterial;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="keyword">protected</span> Material SrcRectMaterial</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    {</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>        <span class="keyword">get</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        {</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>            <span class="keywordflow">if</span> (_SrcRectMaterial == <span class="keyword">null</span>)</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>            {</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>                <span class="keywordtype">string</span>[] shaders = AssetDatabase.FindAssets(<span class="stringliteral">&quot;OVROverlaySrcRectEditor&quot;</span>);</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>                <span class="keywordflow">if</span> (shaders.Length &gt; 0)</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>                {</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>                    Shader shader = (Shader)AssetDatabase.LoadAssetAtPath(</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>                        AssetDatabase.GUIDToAssetPath(shaders[0]), typeof(Shader));</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>                    <span class="keywordflow">if</span> (shader != <span class="keyword">null</span>)</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>                    {</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>                        _SrcRectMaterial = <span class="keyword">new</span> Material(shader);</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>                    }</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>                }</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>            }</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>            <span class="keywordflow">return</span> _SrcRectMaterial;</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>        }</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    }</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    <span class="keyword">private</span> Material _DestRectMaterial;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="keyword">protected</span> Material DestRectMaterial</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    {</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>        <span class="keyword">get</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>        {</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>            <span class="keywordflow">if</span> (_DestRectMaterial == <span class="keyword">null</span>)</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>            {</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>                <span class="keywordtype">string</span>[] shaders = AssetDatabase.FindAssets(<span class="stringliteral">&quot;OVROverlayDestRectEditor&quot;</span>);</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>                <span class="keywordflow">if</span> (shaders.Length &gt; 0)</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>                {</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>                    Shader shader =</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>                        (Shader)AssetDatabase.LoadAssetAtPath(AssetDatabase.GUIDToAssetPath(shaders[0]),</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>                            typeof(Shader));</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>                    <span class="keywordflow">if</span> (shader != <span class="keyword">null</span>)</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>                    {</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>                        _DestRectMaterial = <span class="keyword">new</span> Material(shader);</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>                    }</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>                }</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>            }</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>            <span class="keywordflow">return</span> _DestRectMaterial;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>        }</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    }</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="keyword">private</span> TextureRect _DraggingRect;</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="keyword">private</span> Side _DraggingSide;</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="keyword">enum</span> TextureRect</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    {</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>        None,</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        SrcLeft,</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        SrcRight,</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        DestLeft,</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        DestRight</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    }</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span> </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <span class="keyword">enum</span> Side</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    {</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>        Left,</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>        Right,</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>        Top,</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        Bottom</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    }</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="keyword">private</span> GUIContent[] selectableShapeNames;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="keyword">private</span> <a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_enumeration" href="class_o_v_r_overlay.html#a66270f911c2b6bdadf21de93ff3ab939">OverlayShape</a>[] selectableShapeValues;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="keyword">private</span> SerializedProperty _propCurrentOverlayType;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keyword">private</span> SerializedProperty _propCompositionDepth;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="keyword">private</span> SerializedProperty _propNoDepthBufferTesting;</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="keyword">private</span> SerializedProperty _propCurrentOverlayShape;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="keyword">private</span> SerializedProperty _propUseLegacyCubemapRotation;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="keyword">private</span> SerializedProperty _propUseBicubicFiltering;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="keyword">private</span> SerializedProperty _propIsExternalSurface;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="keyword">private</span> SerializedProperty _propExternalSurfaceWidth;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="keyword">private</span> SerializedProperty _propExternalSurfaceHeight;</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="keyword">private</span> SerializedProperty _propIsProtectedContent;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="keyword">private</span> SerializedProperty _propIsDynamic;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="keyword">private</span> SerializedProperty _propOverrideTextureRectMatrix;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="keyword">private</span> SerializedProperty _propInvertTextureRects;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="keyword">private</span> SerializedProperty _propOverridePerLayerColorScaleAndOffset;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keyword">private</span> SerializedProperty _propColorScale;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="keyword">private</span> SerializedProperty _propColorOffset;</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="keyword">private</span> SerializedProperty _propPreviewInEditor;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <span class="keyword">private</span> SerializedProperty _propUseAutoFiltering;</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span> </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span> </div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="keyword">private</span> <span class="keywordtype">void</span> Awake()</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    {</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>        List&lt;GUIContent&gt; selectableShapeNameList = <span class="keyword">new</span> List&lt;GUIContent&gt;();</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>        List&lt;<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_enumeration" href="class_o_v_r_overlay.html#a66270f911c2b6bdadf21de93ff3ab939">OverlayShape</a>&gt; selectableShapesValueList = <span class="keyword">new</span> List&lt;<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_enumeration" href="class_o_v_r_overlay.html#a66270f911c2b6bdadf21de93ff3ab939">OverlayShape</a>&gt;();</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>        <span class="keywordflow">foreach</span> (<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_enumeration" href="class_o_v_r_overlay.html#a66270f911c2b6bdadf21de93ff3ab939">OverlayShape</a> value in Enum.GetValues(typeof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_enumeration" href="class_o_v_r_overlay.html#a66270f911c2b6bdadf21de93ff3ab939">OverlayShape</a>)))</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>        {</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>            <span class="keywordflow">if</span> (!<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.IsPassthroughShape(value))</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>            {</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>                <span class="keywordtype">string</span> name = Enum.GetName(typeof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_enumeration" href="class_o_v_r_overlay.html#a66270f911c2b6bdadf21de93ff3ab939">OverlayShape</a>), value);</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>                selectableShapeNameList.Add(<span class="keyword">new</span> GUIContent(name, name));</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>                selectableShapesValueList.Add(value);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>            }</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>        }</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>        selectableShapeNames = selectableShapeNameList.ToArray();</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        selectableShapeValues = selectableShapesValueList.ToArray();</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    }</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="keyword">private</span> <span class="keywordtype">void</span> OnEnable()</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    {</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>        _propCurrentOverlayType = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_variable" href="class_o_v_r_overlay.html#ad972430849b375de2120afb8d5720701">currentOverlayType</a>));</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        _propCompositionDepth = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_variable" href="class_o_v_r_overlay.html#a1a2bc2cac818cc2fb8d616bbf5ac186a">compositionDepth</a>));</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>        _propNoDepthBufferTesting = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_variable" href="class_o_v_r_overlay.html#ae14ab8fcd7ab453605db7456961933c3">noDepthBufferTesting</a>));</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>        _propCurrentOverlayShape = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_variable" href="class_o_v_r_overlay.html#a600ef0d2e01a4645f16d8c74a9b7c66b">currentOverlayShape</a>));</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        _propUseLegacyCubemapRotation = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.useLegacyCubemapRotation));</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        _propUseBicubicFiltering = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.useBicubicFiltering));</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        _propIsExternalSurface = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_variable" href="class_o_v_r_overlay.html#a4eb6c0455379a0d3b77705306f8046fa">isExternalSurface</a>));</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>        _propExternalSurfaceWidth = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_variable" href="class_o_v_r_overlay.html#aa2664979549e0d0369a409f0730545bd">externalSurfaceWidth</a>));</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>        _propExternalSurfaceHeight = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_variable" href="class_o_v_r_overlay.html#a3d993a409cfee5e595e5963e1ce4f02e">externalSurfaceHeight</a>));</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        _propIsProtectedContent = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_variable" href="class_o_v_r_overlay.html#a1d52f454d07dddb73992d5b57d7154b5">isProtectedContent</a>));</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>        _propIsDynamic = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_variable" href="class_o_v_r_overlay.html#a6422c98db8d87604a5efcff9698e2ba8">isDynamic</a>));</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>        _propOverrideTextureRectMatrix = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.overrideTextureRectMatrix));</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        _propInvertTextureRects = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.invertTextureRects));</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        _propOverridePerLayerColorScaleAndOffset =</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>            serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.overridePerLayerColorScaleAndOffset));</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        _propColorScale = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.colorScale));</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>        _propColorOffset = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.colorOffset));</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>        _propPreviewInEditor = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>._previewInEditor));</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>        _propUseAutoFiltering = serializedObject.FindProperty(nameof(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.useAutomaticFiltering));</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    }</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnInspectorGUI()</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    {</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        <a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a> overlay = (<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>)target;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        <span class="keywordflow">if</span> (overlay == <span class="keyword">null</span>)</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        {</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>        }</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        serializedObject.Update();</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        <span class="keywordtype">bool</span> tmpEnableDepthBufferTest = !_propNoDepthBufferTesting.boolValue;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        EditorGUILayout.LabelField(<span class="stringliteral">&quot;Display Order&quot;</span>, EditorStyles.boldLabel);</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>        GUI.enabled = Application.isEditor &amp;&amp; !Application.isPlaying;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        EditorGUILayout.PropertyField(_propCurrentOverlayType,</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>            <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Overlay Type&quot;</span>, <span class="stringliteral">&quot;Whether this overlay should layer behind the scene or in front of it&quot;</span>));</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        GUI.enabled = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        EditorGUILayout.PropertyField(_propCompositionDepth, <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Composition Depth&quot;</span>,</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>            <span class="stringliteral">&quot;Depth value used to sort OVROverlays in the scene, smaller value appears in front&quot;</span>));</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>        tmpEnableDepthBufferTest = EditorGUILayout.Toggle(<span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Enable Depth Buffer Testing&quot;</span>,</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>                <span class="stringliteral">&quot;If true, will allow layer depth buffer compositing if the engine has \&quot;Shared Depth Buffer\&quot; enabled&quot;</span>),</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>            tmpEnableDepthBufferTest);</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span><span class="preprocessor">#if USING_XR_SDK_OCULUS &amp;&amp; UNITY_2021_3_OR_NEWER &amp;&amp; OCULUS_XR_DEPTH_SUBMISSION</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>        OculusSettings settings;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        <span class="keywordflow">if</span> (UnityEditor.EditorBuildSettings.TryGetConfigObject&lt;OculusSettings&gt;(<span class="stringliteral">&quot;Unity.XR.Oculus.Settings&quot;</span>,</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>                out settings))</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        {</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>            <span class="keywordtype">bool</span> eyebufferDepthSubmission = settings.DepthSubmission;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>            <span class="keywordflow">if</span> (tmpEnableDepthBufferTest &amp;&amp; !eyebufferDepthSubmission)</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>            {</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>                EditorGUILayout.HelpBox(</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>                    <span class="stringliteral">&quot;Enabling depth testing for this layer will result in additional GPU cost during composition if depth submission is not enabled in the Oculus XR Plugin settings. Consider disabling depth testing and using composition depth instead if only testing between layers and not eye textures.&quot;</span>,</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>                    MessageType.Warning);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>            }</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>        }</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span> </div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        EditorGUILayout.Space();</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>        EditorGUILayout.LabelField(<span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Overlay Shape&quot;</span>, <span class="stringliteral">&quot;The shape of this overlay&quot;</span>),</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>            EditorStyles.boldLabel);</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        <span class="comment">// If the overlay shape has been set to a passthrough shape (via scripting), do not allow to change it.</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        <span class="keywordflow">if</span> (!<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.IsPassthroughShape(overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#a600ef0d2e01a4645f16d8c74a9b7c66b">currentOverlayShape</a>))</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>        {</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>            <span class="keywordtype">int</span> currentShapeIndex = Array.IndexOf(selectableShapeValues, overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#a600ef0d2e01a4645f16d8c74a9b7c66b">currentOverlayShape</a>);</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>            <span class="keywordflow">if</span> (currentShapeIndex == -1)</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>            {</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>                Debug.LogError(<span class="stringliteral">&quot;Invalid shape encountered&quot;</span>);</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>                currentShapeIndex = 0;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>            }</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>            <span class="keywordtype">bool</span> modified = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>            <a class="code hl_class" href="class_o_v_r_editor_util.html">OVREditorUtil</a>.SetupPopupField(target,</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>                <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Overlay Shape&quot;</span>, <span class="stringliteral">&quot;The shape of this overlay&quot;</span>), ref currentShapeIndex,</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>                selectableShapeNames, ref modified);</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>            overlay.currentOverlayShape = selectableShapeValues[currentShapeIndex];</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>        }</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span> </div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>        <span class="keywordflow">if</span> (overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#a600ef0d2e01a4645f16d8c74a9b7c66b">currentOverlayShape</a> == <a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_enumeration" href="class_o_v_r_overlay.html#a66270f911c2b6bdadf21de93ff3ab939">OverlayShape</a>.Cubemap)</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        {</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>            EditorGUILayout.PropertyField(_propUseLegacyCubemapRotation, <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Use Legacy Cubemap Rotation&quot;</span>,</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>                <span class="stringliteral">&quot;Whether the cubemap should use the legacy rotation which was rotated 180 degrees around the Y axis comapred to Unity&#39;s definition of cubemaps. This setting will be deprecated in the near future, therefore it is recommended to fix the cubemap texture instead.&quot;</span>));</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>        }</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        EditorGUILayout.Space();</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        EditorGUILayout.LabelField(<span class="stringliteral">&quot;Layer Properties&quot;</span>, EditorStyles.boldLabel);</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span> </div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        EditorGUILayout.PropertyField(_propUseAutoFiltering, <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Auto Filtering&quot;</span>,</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>            <span class="stringliteral">&quot;Whether this layer allows the runtime to automatically apply layer filter (Sharpen or Supersampling) to improve visual quality&quot;</span>));</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>        EditorGUILayout.PropertyField(_propUseBicubicFiltering, <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Bicubic Filtering&quot;</span>,</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>            <span class="stringliteral">&quot;Whether this layer should use bicubic filtering. This can increase quality for small details on text and icons being viewed at farther distances.&quot;</span>));</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        <span class="keywordtype">bool</span> hasModified = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        <span class="keywordflow">if</span> (overlay.useEfficientSupersample)</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>            superSampleType = <a class="code hl_class" href="class_o_v_r_plugin.html">OVRPlugin</a>.LayerSuperSamplingType.Normal;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        <span class="keywordflow">if</span> (overlay.useExpensiveSuperSample)</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>            superSampleType = <a class="code hl_class" href="class_o_v_r_plugin.html">OVRPlugin</a>.LayerSuperSamplingType.Quality;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> </div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        <span class="keywordflow">if</span> (overlay.useEfficientSharpen)</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>            sharpenType = <a class="code hl_class" href="class_o_v_r_plugin.html">OVRPlugin</a>.LayerSharpenType.Normal;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>        <span class="keywordflow">if</span> (overlay.useExpensiveSharpen)</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>            sharpenType = <a class="code hl_class" href="class_o_v_r_plugin.html">OVRPlugin</a>.LayerSharpenType.Quality;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span> </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        <a class="code hl_class" href="class_o_v_r_editor_util.html">OVREditorUtil</a>.SetupEnumField(target, <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Super Sample&quot;</span>, <span class="stringliteral">&quot;The super sample filter of this layer. This can help reduce flicker artifacts.&quot;</span>), ref superSampleType, ref hasModified);</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        <a class="code hl_class" href="class_o_v_r_editor_util.html">OVREditorUtil</a>.SetupEnumField(target, <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Sharpen&quot;</span>, <span class="stringliteral">&quot;The sharpen filter of this layer. This amplifies contrast and fine details.&quot;</span>), ref sharpenType, ref hasModified);</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        <span class="keywordflow">if</span> (hasModified)</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>        {</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>            overlay.useEfficientSupersample = superSampleType == <a class="code hl_class" href="class_o_v_r_plugin.html">OVRPlugin</a>.LayerSuperSamplingType.Normal;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>            overlay.useExpensiveSuperSample = superSampleType == <a class="code hl_class" href="class_o_v_r_plugin.html">OVRPlugin</a>.LayerSuperSamplingType.Quality;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>            overlay.useEfficientSharpen = sharpenType == <a class="code hl_class" href="class_o_v_r_plugin.html">OVRPlugin</a>.LayerSharpenType.Normal;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>            overlay.useExpensiveSharpen = sharpenType == <a class="code hl_class" href="class_o_v_r_plugin.html">OVRPlugin</a>.LayerSharpenType.Quality;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        }</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span> </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        EditorGUILayout.Space();</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        EditorGUILayout.LabelField(<span class="stringliteral">&quot;Textures&quot;</span>, EditorStyles.boldLabel);</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span><span class="preprocessor">#if UNITY_ANDROID</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <span class="keywordtype">bool</span> lastIsExternalSurface = overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#a4eb6c0455379a0d3b77705306f8046fa">isExternalSurface</a>;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        EditorGUILayout.PropertyField(_propIsExternalSurface,</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>            <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Is External Surface&quot;</span>,</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>                <span class="stringliteral">&quot;On Android, retrieve an Android Surface object to render to (e.g., video playback)&quot;</span>));</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <span class="keywordflow">if</span> (lastIsExternalSurface)</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        {</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>            EditorGUILayout.PropertyField(_propExternalSurfaceWidth, <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;External Surface Width&quot;</span>));</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>            EditorGUILayout.PropertyField(_propExternalSurfaceHeight, <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;External Surface Height&quot;</span>));</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>            EditorGUILayout.PropertyField(_propIsProtectedContent,</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>                <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Is Protected Content&quot;</span>, <span class="stringliteral">&quot;The external surface has L1 widevine protection.&quot;</span>));</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        }</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>        {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>            <span class="keywordflow">if</span> (overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a> == <span class="keyword">null</span>)</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>            {</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>                overlay.textures = <span class="keyword">new</span> Texture[2];</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>            }</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>            <span class="keywordflow">if</span> (overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>.Length &lt; 2)</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>            {</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>                Texture[] tmp = <span class="keyword">new</span> Texture[2];</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>.Length; i++)</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>                {</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                    tmp[i] = overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[i];</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>                }</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span> </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                overlay.textures = tmp;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>            }</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>            EditorGUILayout.BeginHorizontal();</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>            EditorGUILayout.BeginVertical();</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>            EditorGUILayout.LabelField(<span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Left Eye Texture&quot;</span>, <span class="stringliteral">&quot;Texture used for the left eye&quot;</span>),</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>                GUILayout.Width(120));</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>            EditorGUI.BeginChangeCheck();</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>            var left = (Texture)EditorGUILayout.ObjectField(overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[0], typeof(Texture), <span class="keyword">true</span>,</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>                GUILayout.Width(64), GUILayout.Height(64));</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>            <span class="keywordflow">if</span> (EditorGUI.EndChangeCheck())</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>            {</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>                Undo.RecordObject(target, <span class="stringliteral">&quot;Changed Left Texture&quot;</span>);</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>                overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[0] = left;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>            }</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span> </div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>            EditorGUILayout.EndVertical();</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span> </div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>            EditorGUILayout.BeginVertical();</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>            EditorGUILayout.LabelField(<span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Right Eye Texture&quot;</span>, <span class="stringliteral">&quot;Texture used for the right eye&quot;</span>),</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>                GUILayout.Width(120));</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>            EditorGUI.BeginChangeCheck();</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>            var right = (Texture)EditorGUILayout.ObjectField(</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>                overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[1] != <span class="keyword">null</span> ? overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[1] : overlay.textures[0], typeof(Texture), true,</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>                GUILayout.Width(64), GUILayout.Height(64));</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>            <span class="keywordflow">if</span> (EditorGUI.EndChangeCheck())</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>            {</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>                Undo.RecordObject(target, <span class="stringliteral">&quot;Changed Right Texture&quot;</span>);</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>            }</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>            EditorGUILayout.EndVertical();</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span> </div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>            overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[1] = (right == overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[0]) ? <span class="keyword">null</span> : right;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span> </div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>            <span class="keywordflow">if</span> (overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[1] == <span class="keyword">null</span>)</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>            {</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>                EditorGUILayout.LabelField(<span class="stringliteral">&quot;Right Eye Texture is null, so Left Eye Texture will be used for both eyes.&quot;</span>,</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>                    EditorStyles.wordWrappedLabel);</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>            }</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span> </div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>            EditorGUILayout.EndHorizontal();</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span> </div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>            EditorGUILayout.PropertyField(_propIsDynamic,</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>                <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Dynamic Texture&quot;</span>, <span class="stringliteral">&quot;This texture will be updated dynamically at runtime (e.g., Video)&quot;</span>));</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span><span class="preprocessor">#if !UNITY_ANDROID</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>            EditorGUILayout.PropertyField(_propIsProtectedContent,</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>                <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Is Protected Content&quot;</span>, <span class="stringliteral">&quot;The texture has copy protection, e.g., HDCP&quot;</span>));</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        }</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        <span class="keywordflow">if</span> (overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#a600ef0d2e01a4645f16d8c74a9b7c66b">currentOverlayShape</a> == <a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_enumeration" href="class_o_v_r_overlay.html#a66270f911c2b6bdadf21de93ff3ab939">OverlayShape</a>.Cylinder ||</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#a600ef0d2e01a4645f16d8c74a9b7c66b">currentOverlayShape</a> == <a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_enumeration" href="class_o_v_r_overlay.html#a66270f911c2b6bdadf21de93ff3ab939">OverlayShape</a>.Equirect ||</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>            overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#a600ef0d2e01a4645f16d8c74a9b7c66b">currentOverlayShape</a> == <a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_enumeration" href="class_o_v_r_overlay.html#a66270f911c2b6bdadf21de93ff3ab939">OverlayShape</a>.Quad ||</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>            overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#a600ef0d2e01a4645f16d8c74a9b7c66b">currentOverlayShape</a> == <a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_enumeration" href="class_o_v_r_overlay.html#a66270f911c2b6bdadf21de93ff3ab939">OverlayShape</a>.Fisheye)</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        {</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            EditorGUILayout.Space();</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>            EditorGUILayout.LabelField(<span class="stringliteral">&quot;Texture Rects&quot;</span>, EditorStyles.boldLabel);</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span> </div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>            _propOverrideTextureRectMatrix.boolValue = !EditorGUILayout.Toggle(</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>                <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Use Default Rects&quot;</span>,</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>                    overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[1] == <span class="keyword">null</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>                        ? <span class="stringliteral">&quot;If you need to use a single texture as a stereo image, uncheck this box&quot;</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>                        : <span class="stringliteral">&quot;Uncheck this box if you need to clip your textures or layer&quot;</span>),</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>                !overlay.overrideTextureRectMatrix);</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span> </div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>            <span class="keywordflow">if</span> (overlay.overrideTextureRectMatrix)</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>            {</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>                sourceRectsVisible = EditorGUILayout.Foldout(sourceRectsVisible,</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>                    <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Source Rects&quot;</span>,</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>                        <span class="stringliteral">&quot;What portion of the source texture will ultimately be shown in each eye.&quot;</span>));</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span> </div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>                <span class="keywordflow">if</span> (sourceRectsVisible)</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                {</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                    var mat = SrcRectMaterial;</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span> </div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                    <span class="keywordflow">if</span> (mat != <span class="keyword">null</span>)</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>                    {</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>                        Rect drawRect = EditorGUILayout.GetControlRect(GUILayout.Height(128 + 8));</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>                        Vector4 srcLeft = <span class="keyword">new</span> Vector4(Mathf.Max(0.0f, overlay.srcRectLeft.x),</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>                            Mathf.Max(0.0f, overlay.srcRectLeft.y),</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>                            Mathf.Min(1.0f - overlay.srcRectLeft.x, overlay.srcRectLeft.width),</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>                            Mathf.Min(1.0f - overlay.srcRectLeft.y, overlay.srcRectLeft.height));</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>                        Vector4 srcRight = <span class="keyword">new</span> Vector4(Mathf.Max(0.0f, overlay.srcRectRight.x),</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>                            Mathf.Max(0.0f, overlay.srcRectRight.y),</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>                            Mathf.Min(1.0f - overlay.srcRectRight.x, overlay.srcRectRight.width),</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>                            Mathf.Min(1.0f - overlay.srcRectRight.y, overlay.srcRectRight.height));</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span> </div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>                        <span class="keywordflow">if</span> (overlay.invertTextureRects)</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>                        {</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>                            srcLeft.y = 1 - srcLeft.y - srcLeft.w;</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>                            srcRight.y = 1 - srcRight.y - srcRight.w;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>                        }</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span> </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>                        mat.SetVector(<span class="stringliteral">&quot;_SrcRectLeft&quot;</span>, srcLeft);</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>                        mat.SetVector(<span class="stringliteral">&quot;_SrcRectRight&quot;</span>, srcRight);</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>                        <span class="comment">// center our draw rect</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>                        var drawRectCentered = <span class="keyword">new</span> Rect(drawRect.x + drawRect.width / 2 - 128 - 4, drawRect.y, 256 + 8,</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>                            drawRect.height);</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>                        EditorGUI.DrawPreviewTexture(drawRectCentered, overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[0] ?? Texture2D.blackTexture,</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>                            mat);</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span> </div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>                        var drawRectInset = <span class="keyword">new</span> Rect(drawRectCentered.x + 4, drawRectCentered.y + 4,</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>                            drawRectCentered.width - 8, drawRectCentered.height - 8);</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>                        UpdateRectDragging(drawRectInset, drawRectInset, TextureRect.SrcLeft, TextureRect.SrcRight,</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>                            overlay.invertTextureRects, ref overlay.srcRectLeft, ref overlay.srcRectRight);</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>                        CreateCursorRects(drawRectInset, overlay.srcRectLeft, overlay.invertTextureRects);</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>                        CreateCursorRects(drawRectInset, overlay.srcRectRight, overlay.invertTextureRects);</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>                    }</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span> </div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>                    var labelControlRect = EditorGUILayout.GetControlRect();</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>                    EditorGUI.LabelField(</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>                        <span class="keyword">new</span> Rect(labelControlRect.x, labelControlRect.y, labelControlRect.width / 2,</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>                            labelControlRect.height),</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>                        <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Left Source Rect&quot;</span>,</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>                            <span class="stringliteral">&quot;The rect in the source image that will be displayed on the left eye layer&quot;</span>));</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>                    EditorGUI.LabelField(</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>                        <span class="keyword">new</span> Rect(labelControlRect.x + labelControlRect.width / 2, labelControlRect.y,</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>                            labelControlRect.width / 2, labelControlRect.height),</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>                        <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Right Source Rect&quot;</span>,</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>                            <span class="stringliteral">&quot;The rect in the source image that will be displayed on the right eye layer&quot;</span>));</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span> </div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>                    var rectControlRect = EditorGUILayout.GetControlRect(GUILayout.Height(34));</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span> </div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>                    EditorGUI.BeginChangeCheck();</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>                    var srcRectLeft = Clamp01(EditorGUI.RectField(</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>                        <span class="keyword">new</span> Rect(rectControlRect.x, rectControlRect.y, rectControlRect.width / 2 - 20,</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>                            rectControlRect.height), overlay.srcRectLeft));</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>                    var srcRectRight = Clamp01(EditorGUI.RectField(</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>                        <span class="keyword">new</span> Rect(rectControlRect.x + rectControlRect.width / 2, rectControlRect.y,</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>                            rectControlRect.width / 2 - 20, rectControlRect.height), overlay.srcRectRight));</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span> </div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>                    <span class="keywordflow">if</span> (EditorGUI.EndChangeCheck())</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>                    {</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>                        Undo.RecordObject(target, <span class="stringliteral">&quot;Changed Source Rect&quot;</span>);</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>                        overlay.srcRectLeft = srcRectLeft;</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>                        overlay.srcRectRight = srcRectRight;</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>                    }</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span> </div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>                    EditorGUILayout.BeginHorizontal();</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>                    <span class="keywordflow">if</span> (overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[1] != <span class="keyword">null</span>)</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>                    {</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>                        <span class="keywordflow">if</span> (GUILayout.Button(<span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Reset To Default&quot;</span>, <span class="stringliteral">&quot;Reset Source Rects to default&quot;</span>)))</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>                        {</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>                            SetRectsByVideoType(overlay, <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.Stereo, DisplayType.Custom);</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>                        }</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>                    }</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>                    {</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>                        <span class="keywordflow">if</span> (GUILayout.Button(<span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Monoscopic&quot;</span>, <span class="stringliteral">&quot;Display the full Texture in both eyes&quot;</span>)))</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>                        {</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>                            SetRectsByVideoType(overlay, <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.Mono, DisplayType.Custom);</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>                        }</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span> </div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>                        <span class="keywordflow">if</span> (GUILayout.Button(<span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Stereo Left/Right&quot;</span>,</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>                                <span class="stringliteral">&quot;The left half of the texture is displayed in the left eye, and the right half in the right eye&quot;</span>)))</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>                        {</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>                            SetRectsByVideoType(overlay, <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.StereoLeftRight, DisplayType.Custom);</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>                        }</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span> </div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>                        <span class="keywordflow">if</span> (GUILayout.Button(<span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Stereo Top/Bottom&quot;</span>,</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>                                <span class="stringliteral">&quot;The top half of the texture is displayed in the left eye, and the bottom half in the right eye&quot;</span>)))</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>                        {</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>                            SetRectsByVideoType(overlay, <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.StereoTopBottom, DisplayType.Custom);</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>                        }</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>                    }</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>                    EditorGUILayout.EndHorizontal();</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>                }</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span> </div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>                destRectsVisible = EditorGUILayout.Foldout(destRectsVisible,</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>                    <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Destination Rects&quot;</span>,</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>                        <span class="stringliteral">&quot;What portion of the destination texture that the source will be rendered into.&quot;</span>));</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>                <span class="keywordflow">if</span> (destRectsVisible)</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>                {</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>                    var mat = DestRectMaterial;</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>                    <span class="keywordflow">if</span> (mat != <span class="keyword">null</span>)</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>                    {</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>                        Rect drawRect = EditorGUILayout.GetControlRect(GUILayout.Height(128 + 8));</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span> </div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>                        Vector4 srcLeft = <span class="keyword">new</span> Vector4(Mathf.Max(0.0f, overlay.srcRectLeft.x),</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>                            Mathf.Max(0.0f, overlay.srcRectLeft.y),</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>                            Mathf.Min(1.0f - overlay.srcRectLeft.x, overlay.srcRectLeft.width),</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>                            Mathf.Min(1.0f - overlay.srcRectLeft.y, overlay.srcRectLeft.height));</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>                        Vector4 srcRight = <span class="keyword">new</span> Vector4(Mathf.Max(0.0f, overlay.srcRectRight.x),</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>                            Mathf.Max(0.0f, overlay.srcRectRight.y),</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>                            Mathf.Min(1.0f - overlay.srcRectRight.x, overlay.srcRectRight.width),</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>                            Mathf.Min(1.0f - overlay.srcRectRight.y, overlay.srcRectRight.height));</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>                        Vector4 destLeft = <span class="keyword">new</span> Vector4(Mathf.Max(0.0f, overlay.destRectLeft.x),</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>                            Mathf.Max(0.0f, overlay.destRectLeft.y),</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>                            Mathf.Min(1.0f - overlay.destRectLeft.x, overlay.destRectLeft.width),</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>                            Mathf.Min(1.0f - overlay.destRectLeft.y, overlay.destRectLeft.height));</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>                        Vector4 destRight = <span class="keyword">new</span> Vector4(Mathf.Max(0.0f, overlay.destRectRight.x),</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>                            Mathf.Max(0.0f, overlay.destRectRight.y),</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>                            Mathf.Min(1.0f - overlay.destRectRight.x, overlay.destRectRight.width),</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>                            Mathf.Min(1.0f - overlay.destRectRight.y, overlay.destRectRight.height));</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span> </div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>                        <span class="keywordflow">if</span> (overlay.invertTextureRects)</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>                        {</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>                            srcLeft.y = 1 - srcLeft.y - srcLeft.w;</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>                            srcRight.y = 1 - srcRight.y - srcRight.w;</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>                            destLeft.y = 1 - destLeft.y - destLeft.w;</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>                            destRight.y = 1 - destRight.y - destRight.w;</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>                        }</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span> </div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>                        mat.SetVector(<span class="stringliteral">&quot;_SrcRectLeft&quot;</span>, srcLeft);</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>                        mat.SetVector(<span class="stringliteral">&quot;_SrcRectRight&quot;</span>, srcRight);</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>                        mat.SetVector(<span class="stringliteral">&quot;_DestRectLeft&quot;</span>, destLeft);</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>                        mat.SetVector(<span class="stringliteral">&quot;_DestRectRight&quot;</span>, destRight);</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>                        mat.SetColor(<span class="stringliteral">&quot;_BackgroundColor&quot;</span>,</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>                            EditorGUIUtility.isProSkin</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>                                ? (Color)<span class="keyword">new</span> Color32(56, 56, 56, 255)</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>                                : (Color)new Color32(194, 194, 194, 255));</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span> </div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>                        var drawRectCentered = <span class="keyword">new</span> Rect(drawRect.x + drawRect.width / 2 - 128 - 16 - 4, drawRect.y,</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>                            256 + 32 + 8, drawRect.height);</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>                        <span class="comment">// center our draw rect</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>                        EditorGUI.DrawPreviewTexture(drawRectCentered, overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[0] ?? Texture2D.blackTexture,</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>                            mat);</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span> </div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>                        var drawRectInsetLeft = <span class="keyword">new</span> Rect(drawRectCentered.x + 4, drawRectCentered.y + 4,</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>                            drawRectCentered.width / 2 - 20, drawRectCentered.height - 8);</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>                        var drawRectInsetRight = <span class="keyword">new</span> Rect(drawRectCentered.x + drawRectCentered.width / 2 + 16,</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>                            drawRectCentered.y + 4, drawRectCentered.width / 2 - 20, drawRectCentered.height - 8);</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>                        UpdateRectDragging(drawRectInsetLeft, drawRectInsetRight, TextureRect.DestLeft,</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>                            TextureRect.DestRight, overlay.invertTextureRects, ref overlay.destRectLeft,</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>                            ref overlay.destRectRight);</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span> </div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>                        CreateCursorRects(drawRectInsetLeft, overlay.destRectLeft, overlay.invertTextureRects);</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>                        CreateCursorRects(drawRectInsetRight, overlay.destRectRight, overlay.invertTextureRects);</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>                    }</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span> </div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>                    var labelControlRect = EditorGUILayout.GetControlRect();</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>                    EditorGUI.LabelField(</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>                        <span class="keyword">new</span> Rect(labelControlRect.x, labelControlRect.y, labelControlRect.width / 2,</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>                            labelControlRect.height),</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>                        <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Left Destination Rect&quot;</span>,</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>                            <span class="stringliteral">&quot;The rect in the destination layer the left eye will display to&quot;</span>));</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>                    EditorGUI.LabelField(</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                        <span class="keyword">new</span> Rect(labelControlRect.x + labelControlRect.width / 2, labelControlRect.y,</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                            labelControlRect.width / 2, labelControlRect.height),</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>                        <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Right Destination Rect&quot;</span>,</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>                            <span class="stringliteral">&quot;The rect in the destination layer the right eye will display to&quot;</span>));</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span> </div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>                    var rectControlRect = EditorGUILayout.GetControlRect(GUILayout.Height(34));</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span> </div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>                    EditorGUI.BeginChangeCheck();</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>                    var destRectLeft = Clamp01(EditorGUI.RectField(</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>                        <span class="keyword">new</span> Rect(rectControlRect.x, rectControlRect.y, rectControlRect.width / 2 - 20,</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>                            rectControlRect.height), overlay.destRectLeft));</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>                    var destRectRight = Clamp01(EditorGUI.RectField(</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>                        <span class="keyword">new</span> Rect(rectControlRect.x + rectControlRect.width / 2, rectControlRect.y,</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>                            rectControlRect.width / 2 - 20, rectControlRect.height), overlay.destRectRight));</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span> </div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>                    <span class="keywordflow">if</span> (EditorGUI.EndChangeCheck())</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>                    {</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>                        Undo.RecordObject(target, <span class="stringliteral">&quot;Changed Destination Rect&quot;</span>);</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>                        overlay.destRectLeft = destRectLeft;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>                        overlay.destRectRight = destRectRight;</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>                    }</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span> </div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>                    <span class="keywordflow">if</span> (overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#a600ef0d2e01a4645f16d8c74a9b7c66b">currentOverlayShape</a> == <a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a>.<a class="code hl_enumeration" href="class_o_v_r_overlay.html#a66270f911c2b6bdadf21de93ff3ab939">OverlayShape</a>.Equirect)</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>                    {</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>                        EditorGUILayout.BeginHorizontal();</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>                        <span class="keywordflow">if</span> (GUILayout.Button(<span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;360 Video&quot;</span>, <span class="stringliteral">&quot;Display the full 360 layer&quot;</span>)))</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>                        {</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>                            SetRectsByVideoType(overlay, <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.Custom, DisplayType.Full);</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>                        }</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span> </div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>                        <span class="keywordflow">if</span> (GUILayout.Button(<span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;180 Video&quot;</span>, <span class="stringliteral">&quot;Display the front 180 layer&quot;</span>)))</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>                        {</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>                            SetRectsByVideoType(overlay, <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.Custom, DisplayType.Half);</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>                        }</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span> </div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>                        EditorGUILayout.EndHorizontal();</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>                    }</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>                    {</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>                        <span class="keywordflow">if</span> (GUILayout.Button(<span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Reset To Default&quot;</span>, <span class="stringliteral">&quot;Reset Source Rects to default&quot;</span>)))</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>                        {</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>                            SetRectsByVideoType(overlay, <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.Custom, DisplayType.Full);</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>                        }</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>                    }</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>                }</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span> </div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>                EditorGUILayout.PropertyField(_propInvertTextureRects,</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>                    <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Invert Rect Coordinates&quot;</span>,</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>                        <span class="stringliteral">&quot;Check this box to use the top left corner of the texture as the origin&quot;</span>));</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>            }</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>        }</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span> </div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>        EditorGUILayout.Space();</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        EditorGUILayout.LabelField(<span class="stringliteral">&quot;Color Scale&quot;</span>, EditorStyles.boldLabel);</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>        EditorGUILayout.PropertyField(_propOverridePerLayerColorScaleAndOffset,</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>            <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Override Color Scale&quot;</span>,</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>                <span class="stringliteral">&quot;Manually set color scale and offset of this layer, regardless of what the global values are from OVRManager.SetColorScaleAndOffset().&quot;</span>));</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>        <span class="keywordflow">if</span> (overlay.overridePerLayerColorScaleAndOffset)</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        {</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>            EditorGUILayout.PropertyField(_propColorScale,</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>                <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Color Scale&quot;</span>, <span class="stringliteral">&quot;Scale that the color values for this overlay will be multiplied by.&quot;</span>));</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>            EditorGUILayout.PropertyField(_propColorOffset,</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>                <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Color Offset&quot;</span>, <span class="stringliteral">&quot;Offset that the color values for this overlay will be added to.&quot;</span>));</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>            serializedObject.ApplyModifiedProperties();</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>            overlay.SetPerLayerColorScaleAndOffset(_propColorScale.vector4Value, _propColorOffset.vector4Value);</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        }</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span> </div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        EditorGUILayout.Space();</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        EditorGUILayout.LabelField(<span class="stringliteral">&quot;Preview&quot;</span>, EditorStyles.boldLabel);</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>        EditorGUILayout.PropertyField(_propPreviewInEditor,</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>            <span class="keyword">new</span> GUIContent(<span class="stringliteral">&quot;Preview in Editor (Experimental)&quot;</span>,</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>                <span class="stringliteral">&quot;Preview the overlay in the editor using a mesh renderer.&quot;</span>));</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span> </div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        _propNoDepthBufferTesting.boolValue = !tmpEnableDepthBufferTest;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>        serializedObject.ApplyModifiedProperties();</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>    }</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span> </div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    <span class="keyword">private</span> Rect Clamp01(Rect rect)</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>    {</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>        rect.x = Mathf.Clamp01(rect.x);</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>        rect.y = Mathf.Clamp01(rect.y);</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>        rect.width = Mathf.Clamp01(rect.width);</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>        rect.height = Mathf.Clamp01(rect.height);</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>        <span class="keywordflow">return</span> rect;</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>    }</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span> </div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    <span class="keyword">private</span> <span class="keywordtype">bool</span> IsUnitRect(Rect rect)</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    {</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>        <span class="keywordflow">return</span> IsRect(rect, 0, 0, 1, 1);</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>    }</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span> </div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    <span class="keyword">private</span> <span class="keywordtype">bool</span> IsRect(Rect rect, <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> w, <span class="keywordtype">float</span> h)</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    {</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>        <span class="keywordflow">return</span> rect.x == x &amp;&amp; rect.y == y &amp;&amp; rect.width == w &amp;&amp; rect.height == h;</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>    }</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span> </div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    <span class="keyword">private</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a> GetStereoType(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a> overlay)</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    {</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>        <span class="keywordflow">if</span> (overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[0] != <span class="keyword">null</span> &amp;&amp; overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[1] != <span class="keyword">null</span>)</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>        {</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>            <span class="keywordflow">if</span> (IsUnitRect(overlay.srcRectLeft) &amp;&amp; IsUnitRect(overlay.srcRectRight))</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>            {</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>                <span class="keywordflow">return</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.Stereo;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>            }</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>            {</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>                <span class="keywordflow">return</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.Custom;</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>            }</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        }</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (overlay.<a class="code hl_variable" href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">textures</a>[0] != <span class="keyword">null</span>)</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        {</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>            <span class="keywordflow">if</span> (IsUnitRect(overlay.srcRectLeft) &amp;&amp; IsUnitRect(overlay.srcRectRight))</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>            {</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>                <span class="keywordflow">return</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.Mono;</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>            }</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsRect(overlay.srcRectLeft, 0, 0, 0.5f, 1f) &amp;&amp; IsRect(overlay.srcRectRight, 0.5f, 0, 0.5f, 1f))</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>            {</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>                <span class="keywordflow">return</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.StereoLeftRight;</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>            }</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (overlay.invertTextureRects &amp;&amp; IsRect(overlay.srcRectLeft, 0, 0.0f, 1f, 0.5f) &amp;&amp;</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>                     IsRect(overlay.srcRectRight, 0f, 0.5f, 1f, 0.5f))</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>            {</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>                <span class="keywordflow">return</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.StereoTopBottom;</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>            }</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!overlay.invertTextureRects &amp;&amp; IsRect(overlay.srcRectLeft, 0, 0.5f, 1f, 0.5f) &amp;&amp;</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>                     IsRect(overlay.srcRectRight, 0f, 0f, 1f, 0.5f))</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>            {</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>                <span class="keywordflow">return</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.StereoTopBottom;</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>            }</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>            {</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>                <span class="keywordflow">return</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.Custom;</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>            }</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>        }</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>        {</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>            <span class="keywordflow">return</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.Mono;</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>        }</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    }</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span> </div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    <span class="keyword">private</span> <span class="keywordtype">void</span> SetRectsByVideoType(<a class="code hl_class" href="class_o_v_r_overlay.html">OVROverlay</a> overlay, <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a> stereoType, DisplayType displayType)</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    {</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>        Rect srcRectLeft, srcRectRight, destRectLeft, destRectRight;</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span> </div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>        <span class="keywordflow">switch</span> (displayType)</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>        {</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>            <span class="keywordflow">case</span> DisplayType.Full:</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>                destRectLeft = destRectRight = <span class="keyword">new</span> Rect(0, 0, 1, 1);</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span> </div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>            <span class="keywordflow">case</span> DisplayType.Half:</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>                destRectLeft = destRectRight = <span class="keyword">new</span> Rect(0.25f, 0, 0.5f, 1);</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span> </div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>                destRectLeft = overlay.destRectLeft;</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>                destRectRight = overlay.destRectRight;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>        }</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span> </div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        <span class="keywordflow">switch</span> (stereoType)</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>        {</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>            <span class="keywordflow">case</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.Mono:</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>            <span class="keywordflow">case</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.Stereo:</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>                srcRectLeft = srcRectRight = <span class="keyword">new</span> Rect(0, 0, 1, 1);</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span> </div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>            <span class="keywordflow">case</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.StereoTopBottom:</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>                <span class="keywordflow">if</span> (overlay.invertTextureRects)</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>                {</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>                    srcRectLeft = <span class="keyword">new</span> Rect(0, 0.0f, 1, 0.5f);</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>                    srcRectRight = <span class="keyword">new</span> Rect(0, 0.5f, 1, 0.5f);</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>                }</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>                {</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>                    srcRectLeft = <span class="keyword">new</span> Rect(0, 0.5f, 1, 0.5f);</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>                    srcRectRight = <span class="keyword">new</span> Rect(0, 0.0f, 1, 0.5f);</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>                }</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span> </div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span> </div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            <span class="keywordflow">case</span> <a class="code hl_enumeration" href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">StereoType</a>.StereoLeftRight:</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>                srcRectLeft = <span class="keyword">new</span> Rect(0, 0, 0.5f, 1);</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>                srcRectRight = <span class="keyword">new</span> Rect(0.5f, 0, 0.5f, 1);</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span> </div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>                srcRectLeft = overlay.srcRectLeft;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>                srcRectRight = overlay.srcRectRight;</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>        }</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span> </div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>        Undo.RecordObject(overlay, <span class="stringliteral">&quot;Changed rect&quot;</span>);</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>        overlay.<a class="code hl_function" href="class_o_v_r_overlay.html#ae779b2bcf1aaabe37f69db5513898479">SetSrcDestRects</a>(srcRectLeft, srcRectRight, destRectLeft, destRectRight);</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>    }</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span> </div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>    <span class="keyword">private</span> <span class="keywordtype">void</span> GetCursorPoints(Rect drawRect, Rect selectRect, <span class="keywordtype">bool</span> invertY, out Vector2 leftPos,</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>        out Vector2 rightPos, out Vector2 topPos, out Vector2 bottomPos)</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>    {</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>        <span class="keywordflow">if</span> (invertY)</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>        {</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>            selectRect.y = 1 - selectRect.y - selectRect.height;</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>        }</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span> </div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>        leftPos = <span class="keyword">new</span> Vector2(drawRect.x + selectRect.x * drawRect.width,</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>            drawRect.y + (1 - selectRect.y - selectRect.height / 2) * drawRect.height);</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>        rightPos = <span class="keyword">new</span> Vector2(drawRect.x + (selectRect.x + selectRect.width) * drawRect.width,</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>            drawRect.y + (1 - selectRect.y - selectRect.height / 2) * drawRect.height);</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>        topPos = <span class="keyword">new</span> Vector2(drawRect.x + (selectRect.x + selectRect.width / 2) * drawRect.width,</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>            drawRect.y + (1 - selectRect.y - selectRect.height) * drawRect.height);</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        bottomPos = <span class="keyword">new</span> Vector2(drawRect.x + (selectRect.x + selectRect.width / 2) * drawRect.width,</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>            drawRect.y + (1 - selectRect.y) * drawRect.height);</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span> </div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>        <span class="keywordflow">if</span> (invertY)</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>        {</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>            <span class="comment">// swap top and bottom</span></div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>            var tmp = topPos;</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>            topPos = bottomPos;</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>            bottomPos = tmp;</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        }</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>    }</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span> </div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    <span class="keyword">private</span> <span class="keywordtype">void</span> CreateCursorRects(Rect drawRect, Rect selectRect, <span class="keywordtype">bool</span> invertY)</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    {</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>        Vector2 leftPos, rightPos, topPos, bottomPos;</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>        GetCursorPoints(drawRect, selectRect, invertY, out leftPos, out rightPos, out topPos, out bottomPos);</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span> </div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>        EditorGUIUtility.AddCursorRect(<span class="keyword">new</span> Rect(leftPos - 5 * Vector2.one, 10 * Vector2.one),</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>            MouseCursor.ResizeHorizontal);</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>        EditorGUIUtility.AddCursorRect(<span class="keyword">new</span> Rect(rightPos - 5 * Vector2.one, 10 * Vector2.one),</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>            MouseCursor.ResizeHorizontal);</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>        EditorGUIUtility.AddCursorRect(<span class="keyword">new</span> Rect(topPos - 5 * Vector2.one, 10 * Vector2.one),</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>            MouseCursor.ResizeVertical);</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>        EditorGUIUtility.AddCursorRect(<span class="keyword">new</span> Rect(bottomPos - 5 * Vector2.one, 10 * Vector2.one),</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>            MouseCursor.ResizeVertical);</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>    }</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span> </div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>    <span class="keyword">private</span> <span class="keywordtype">bool</span> IsOverRectControls(Rect drawRect, Vector2 mousePos, Rect selectRect, <span class="keywordtype">bool</span> invertY, ref Side side)</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    {</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>        Vector2 leftPos, rightPos, topPos, bottomPos;</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>        GetCursorPoints(drawRect, selectRect, invertY, out leftPos, out rightPos, out topPos, out bottomPos);</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span> </div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        <span class="keywordflow">if</span> ((leftPos - mousePos).sqrMagnitude &lt;= 25)</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>        {</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>            side = Side.Left;</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>        }</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span> </div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>        <span class="keywordflow">if</span> ((rightPos - mousePos).sqrMagnitude &lt;= 25)</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>        {</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>            side = Side.Right;</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        }</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span> </div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>        <span class="keywordflow">if</span> ((topPos - mousePos).sqrMagnitude &lt;= 25)</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>        {</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>            side = Side.Top;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>        }</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span> </div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>        <span class="keywordflow">if</span> ((bottomPos - mousePos).sqrMagnitude &lt;= 25)</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>        {</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>            side = Side.Bottom;</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>        }</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span> </div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    }</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span> </div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    <span class="keyword">private</span> <span class="keywordtype">void</span> UpdateRectDragging(Rect drawingRectLeft, Rect drawingRectRight, TextureRect rectLeftType,</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>        TextureRect rectRightType, <span class="keywordtype">bool</span> invertY, ref Rect rectLeft, ref Rect rectRight)</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    {</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        <span class="keywordflow">if</span> (!Event.current.isMouse || Event.current.button != 0)</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>        {</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>        }</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span> </div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>        <span class="keywordflow">if</span> (Event.current.type == EventType.MouseUp)</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>        {</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>            _DraggingRect = TextureRect.None;</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>        }</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span> </div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>        Vector2 mousePos = Event.current.mousePosition;</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>        <span class="keywordflow">if</span> (_DraggingRect == TextureRect.None &amp;&amp; Event.current.type == EventType.MouseDown)</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>        {</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>            <span class="keywordflow">if</span> (IsOverRectControls(drawingRectLeft, mousePos, rectLeft, invertY, ref _DraggingSide))</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>            {</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>                _DraggingRect = rectLeftType;</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            }</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span> </div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>            <span class="keywordflow">if</span> (_DraggingRect == TextureRect.None || Event.current.shift)</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>            {</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>                <span class="keywordflow">if</span> (IsOverRectControls(drawingRectRight, mousePos, rectRight, invertY, ref _DraggingSide))</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>                {</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>                    _DraggingRect = rectRightType;</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>                }</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>            }</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>        }</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span> </div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>        <span class="keywordflow">if</span> (_DraggingRect == rectLeftType)</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>        {</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>            SetRectSideValue(drawingRectLeft, mousePos, _DraggingSide, invertY, ref rectLeft);</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>        }</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span> </div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>        <span class="keywordflow">if</span> (_DraggingRect == rectRightType)</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>        {</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>            SetRectSideValue(drawingRectRight, mousePos, _DraggingSide, invertY, ref rectRight);</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>        }</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>    }</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span> </div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>    <span class="keyword">private</span> <span class="keywordtype">void</span> SetRectSideValue(Rect drawingRect, Vector2 mousePos, Side side, <span class="keywordtype">bool</span> invertY, ref Rect rect)</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    {</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>        <span class="comment">// quantize to 1/32</span></div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        <span class="keywordtype">float</span> x = Mathf.Clamp01(Mathf.Round(((mousePos.x - drawingRect.x) / drawingRect.width) * 32) / 32.0f);</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>        <span class="keywordtype">float</span> y = Mathf.Clamp01(Mathf.Round(((mousePos.y - drawingRect.y) / drawingRect.height) * 32) / 32.0f);</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>        <span class="keywordflow">if</span> (!invertY)</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>        {</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>            y = 1 - y;</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>        }</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span> </div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>        <span class="keywordflow">switch</span> (side)</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>        {</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>            <span class="keywordflow">case</span> Side.Left:</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>                <span class="keywordtype">float</span> xMax = rect.xMax;</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>                rect.x = Mathf.Min(x, xMax);</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>                rect.width = xMax - rect.x;</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>            <span class="keywordflow">case</span> Side.Right:</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>                rect.width = Mathf.Max(0, x - rect.x);</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>            <span class="keywordflow">case</span> Side.Bottom:</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>                <span class="keywordtype">float</span> yMax = rect.yMax;</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>                rect.y = Mathf.Min(y, yMax);</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>                rect.height = yMax - rect.y;</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>            <span class="keywordflow">case</span> Side.Top:</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>                rect.height = Mathf.Max(0, y - rect.y);</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>        }</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>    }</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>}</div>
</div>
<div class="ttc" id="aclass_o_v_r_editor_util_html"><div class="ttname"><a href="class_o_v_r_editor_util.html">OVREditorUtil</a></div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_editor_util_8cs_source.html#l00025">OVREditorUtil.cs:26</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_editor_html"><div class="ttname"><a href="class_o_v_r_overlay_editor.html">OVROverlayEditor</a></div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_editor_8cs_source.html#l00030">OVROverlayEditor.cs:31</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_editor_html_abc4715e06ef64d7b51521bcca35383f0"><div class="ttname"><a href="class_o_v_r_overlay_editor.html#abc4715e06ef64d7b51521bcca35383f0">OVROverlayEditor.StereoType</a></div><div class="ttdeci">StereoType</div><div class="ttdoc">Common Video Types, to ease source and dest rect creation.</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_editor_8cs_source.html#l00035">OVROverlayEditor.cs:36</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_html"><div class="ttname"><a href="class_o_v_r_overlay.html">OVROverlay</a></div><div class="ttdoc">Add OVROverlay script to an object with an optional mesh primitive rendered as a TimeWarp overlay ins...</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_8cs_source.html#l00054">OVROverlay.cs:55</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_html_a1a2bc2cac818cc2fb8d616bbf5ac186a"><div class="ttname"><a href="class_o_v_r_overlay.html#a1a2bc2cac818cc2fb8d616bbf5ac186a">OVROverlay.compositionDepth</a></div><div class="ttdeci">int compositionDepth</div><div class="ttdoc">The compositionDepth defines the order of the OVROverlays in composition. The overlay/underlay with s...</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_8cs_source.html#l00162">OVROverlay.cs:162</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_html_a1d52f454d07dddb73992d5b57d7154b5"><div class="ttname"><a href="class_o_v_r_overlay.html#a1d52f454d07dddb73992d5b57d7154b5">OVROverlay.isProtectedContent</a></div><div class="ttdeci">bool isProtectedContent</div><div class="ttdoc">If true, the layer would be used to present protected content (e.g. HDCP), the content won't be shown...</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_8cs_source.html#l00103">OVROverlay.cs:103</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_html_a3d993a409cfee5e595e5963e1ce4f02e"><div class="ttname"><a href="class_o_v_r_overlay.html#a3d993a409cfee5e595e5963e1ce4f02e">OVROverlay.externalSurfaceHeight</a></div><div class="ttdeci">int externalSurfaceHeight</div><div class="ttdoc">The height which will be used to create the external surface. It's effective only on Android.</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_8cs_source.html#l00154">OVROverlay.cs:154</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_html_a4eb6c0455379a0d3b77705306f8046fa"><div class="ttname"><a href="class_o_v_r_overlay.html#a4eb6c0455379a0d3b77705306f8046fa">OVROverlay.isExternalSurface</a></div><div class="ttdeci">bool isExternalSurface</div><div class="ttdoc">If true, the layer will be created as an external surface. externalSurfaceObject contains the Surface...</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_8cs_source.html#l00142">OVROverlay.cs:142</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_html_a600ef0d2e01a4645f16d8c74a9b7c66b"><div class="ttname"><a href="class_o_v_r_overlay.html#a600ef0d2e01a4645f16d8c74a9b7c66b">OVROverlay.currentOverlayShape</a></div><div class="ttdeci">OverlayShape currentOverlayShape</div><div class="ttdoc">Specify overlay's shape.</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_8cs_source.html#l00182">OVROverlay.cs:182</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_html_a6422c98db8d87604a5efcff9698e2ba8"><div class="ttname"><a href="class_o_v_r_overlay.html#a6422c98db8d87604a5efcff9698e2ba8">OVROverlay.isDynamic</a></div><div class="ttdeci">bool isDynamic</div><div class="ttdoc">If true, the texture's content is copied to the compositor each frame.</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_8cs_source.html#l00095">OVROverlay.cs:95</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_html_a66270f911c2b6bdadf21de93ff3ab939"><div class="ttname"><a href="class_o_v_r_overlay.html#a66270f911c2b6bdadf21de93ff3ab939">OVROverlay.OverlayShape</a></div><div class="ttdeci">OverlayShape</div><div class="ttdoc">Determines the on-screen appearance of a layer.</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_8cs_source.html#l00061">OVROverlay.cs:62</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_html_aa2664979549e0d0369a409f0730545bd"><div class="ttname"><a href="class_o_v_r_overlay.html#aa2664979549e0d0369a409f0730545bd">OVROverlay.externalSurfaceWidth</a></div><div class="ttdeci">int externalSurfaceWidth</div><div class="ttdoc">The width which will be used to create the external surface. It's effective only on Android.</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_8cs_source.html#l00148">OVROverlay.cs:148</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_html_acac7716351f355d63b109e882355122f"><div class="ttname"><a href="class_o_v_r_overlay.html#acac7716351f355d63b109e882355122f">OVROverlay.textures</a></div><div class="ttdeci">Texture[] textures</div><div class="ttdoc">The left- and right-eye Textures to show in the layer.</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_8cs_source.html#l00192">OVROverlay.cs:192</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_html_ad972430849b375de2120afb8d5720701"><div class="ttname"><a href="class_o_v_r_overlay.html#ad972430849b375de2120afb8d5720701">OVROverlay.currentOverlayType</a></div><div class="ttdeci">OverlayType currentOverlayType</div><div class="ttdoc">Specify overlay's type.</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_8cs_source.html#l00089">OVROverlay.cs:89</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_html_ae14ab8fcd7ab453605db7456961933c3"><div class="ttname"><a href="class_o_v_r_overlay.html#ae14ab8fcd7ab453605db7456961933c3">OVROverlay.noDepthBufferTesting</a></div><div class="ttdeci">bool noDepthBufferTesting</div><div class="ttdoc">The noDepthBufferTesting will stop layer's depth buffer compositing even if the engine has &quot;Depth buf...</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_8cs_source.html#l00173">OVROverlay.cs:173</a></div></div>
<div class="ttc" id="aclass_o_v_r_overlay_html_ae779b2bcf1aaabe37f69db5513898479"><div class="ttname"><a href="class_o_v_r_overlay.html#ae779b2bcf1aaabe37f69db5513898479">OVROverlay.SetSrcDestRects</a></div><div class="ttdeci">void SetSrcDestRects(Rect srcLeft, Rect srcRight, Rect destLeft, Rect destRight)</div><div class="ttdoc">Sets the source and dest rects for both eyes. Source explains what portion of the source texture is u...</div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_overlay_8cs_source.html#l00511">OVROverlay.cs:511</a></div></div>
<div class="ttc" id="aclass_o_v_r_plugin_html"><div class="ttname"><a href="class_o_v_r_plugin.html">OVRPlugin</a></div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_plugin_8cs_source.html#l00047">OVRPlugin.cs:48</a></div></div>
<div class="ttc" id="anamespace_unity_engine_html"><div class="ttname"><a href="namespace_unity_engine.html">UnityEngine</a></div><div class="ttdef"><b>Definition</b> <a href="_o_v_r_input_module_8cs_source.html#l00024">OVRInputModule.cs:25</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
